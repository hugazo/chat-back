(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{198:function(e,t){},201:function(e,t,n){"use strict";n.r(t);var o=n(172)("https://personal-development-217118.appspot.com/"),c={data:function(){return{userFilled:!1,user:"",messages:[],message:"",connected:!1}},computed:{connectedClass:function(){return this.connected?"is-success":"is-danger"}},mounted:function(){var e=this;o.on("connect",this.handleConnect),o.on("disconnect",this.handleDisconnect),o.on("chat message",(function(t){e.handleNewMessage(t)}))},methods:{sendMsg:function(){if(this.messageFocus(),this.connected){var e=(new Date).valueOf();o.emit("chat message",{text:this.message,user:this.user,messageId:e}),this.message=""}},handleNewMessage:function(e){var t=this;this.messages.push(e),setTimeout((function(){t.focusMessage(e.messageId)}),50)},handleConnect:function(){this.connected=!0},handleDisconnect:function(){this.connected=!1},focusMessage:function(e){this.$refs[e][0].scrollIntoView()},setUser:function(){var e=this;this.userFilled=!0,setTimeout((function(){e.messageFocus()}),50)},messageFocus:function(){this.$refs.message.focus()}}},r=n(22),component=Object(r.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.userFilled?[n("section",{staticClass:"section"},[e._l(e.messages,(function(t){return[n("p",{ref:t.messageId,refInFor:!0,staticClass:"message"},[e._v(e._s(t.user)+": "+e._s(t.text))])]}))],2),n("nav",{staticClass:"navbar is-fixed-bottom"},[n("div",{staticClass:"container"},[n("div",{staticClass:"field has-addons"},[n("p",{staticClass:"control is-expanded"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],ref:"message",staticClass:"input",class:e.connectedClass,attrs:{type:"text",placeholder:"Ingrese su mensaje",disabled:!e.connected},domProps:{value:e.message},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMsg(t)},input:function(t){t.target.composing||(e.message=t.target.value)}}})]),n("p",{staticClass:"control"},[n("a",{staticClass:"button",class:e.connectedClass,attrs:{disabled:!e.connected},on:{click:function(t){return t.stopPropagation(),e.sendMsg(t)}}},[e._v("Enviar")])])])])])]:n("section",{staticClass:"hero"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container"},[e._m(0),n("div",{staticClass:"section"},[n("div",{staticClass:"field has-addons"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.user,expression:"user"}],staticClass:"input is-expanded",attrs:{type:"text",placeholder:"Ingrese su nombre"},domProps:{value:e.user},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setUser(t)},input:function(t){t.target.composing||(e.user=t.target.value)}}})]),n("div",{staticClass:"control"},[n("a",{staticClass:"button",on:{click:function(t){return t.stopPropagation(),e.setUser(t)}}},[e._v("Enviar")])])])])])])])],2)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"section"},[t("h2",{staticClass:"subtitle"},[this._v("Ingrese Su nombre")])])}],!1,null,null,null);t.default=component.exports}}]);